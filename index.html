<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="shortcut icon" href="/favicon.ico">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="David Kananda">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="DMKCode"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="DMKCode"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>DMKCode</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-84279485-1', 'auto');
        ga('send', 'pageview');

    </script>



    <script type="text/javascript">
        var host = "dmkcode.com";
        if ((host == window.location.host) && (window.location.protocol != "https:"))
            window.location.protocol = "https";
    </script>

</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/">
            <!-- <i class="logo-icon fa fa-cube" aria-hidden="true"></i> -->
            <img class="logo-icon" src="/img/avatar.png" alt="DMKCode"
        </a>
        
            <h1 id="main-title" class="title">DMKCode</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2016/10/dockerize-dev-environment/">
                Dockerizing My Dev Environment
            </a>
        </h1>
        <div class="post-info">
            <span class="date">01-10-2016</span>
            <!--
                <a href="https://dmkcode.com/2016/10/dockerize-dev-environment/#disqus_thread" class="comments article-comment-link">Comments</a> -->
            
            <!--
                <span class="category">
                    <a href="/categories/Docker/">Docker</a>
                </span>
             -->
        </div>
    </div>

    <!-- 
        <div class="content">
            <blockquote><p>DISCLAIMER: My solution may not everybody’s cup of tea. If you have a better and more efficient solution, give me shout in the comments, I’m always looking to learn.</p>
</blockquote>
<p><a href="https://www.docker.com/" target="_blank" rel="external">Docker</a> is a containerization platform that simplifies building, shipping and running apps.</p>
<p>As a developer, having a consistent environmment removes a lot of the pain associated with having to make sure the computers you use have the same version of software such as frameworks e.g. node. </p>
<p>There many more benefits docker offers and, environment consistency and the ability to have other developers run your app without having to configure the environment (apart from having docker installed) is what this post is about. </p>
<p>I’m going to demonstrate how to dockerize a Node (Express) app for development.</p>
<p>I’m going to assume you have: </p>
<ul>
<li><p>An app generated using <a href="https://expressjs.com/en/starter/generator.html" target="_blank" rel="external">express-generator</a><br>To generate:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install express-generator -g</span><br><span class="line">$ express dockerize_dev_env --hbs</span><br></pre></td></tr></table></figure>
</li>
<li><p>Docker installed on your machine: <a href="https://www.docker.com/products/docker" target="_blank" rel="external">Docker for Mac or Windows</a></p>
</li>
</ul>
<p>With our app ready and running using node on the local machine, we can now change it such that our app should run in a docker container with node and anything else we need for development installed on it. This means that we could run this container with docker on another machine without needing to have node on installed on it.</p>
<h2 id="The-Dockerfile"><a href="#The-Dockerfile" class="headerlink" title="The Dockerfile"></a>The Dockerfile</h2><p>We first create the Dockerfile at the root of the project generated (above).<br>This file is what is used to build the node image for our environment.<br>Read more about the commands used in the file <a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="external">here</a>.</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:latest</span><br><span class="line"></span><br><span class="line"><span class="keyword">MAINTAINER</span> DMKCode</span><br><span class="line"></span><br><span class="line"><span class="keyword">ENV</span> NODE_ENV=development </span><br><span class="line"><span class="keyword">ENV</span> PORT=<span class="number">3000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /src</span><br><span class="line"></span><span class="keyword">WORKDIR</span><span class="bash"> /src</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># use nodemon for development</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> npm install --global nodemon</span><br><span class="line"></span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> npm install</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># we do this because when we create the container using this image, node_modules from npm install is wiped out as the volume is mounted when creating the container.</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mv /src/node_modules /node_modules</span><br><span class="line"></span></span><br><span class="line"><span class="keyword">EXPOSE</span> $PORT</span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"npm"</span>, <span class="string">"start"</span>]</span></span><br></pre></td></tr></table></figure>
<p>Essentially what the file does is pull in the latest node image to use as the base image, then sets who the maintainer of the image is i.e. DMKCode.<br>The file then defines two environment variables which will be available to the container created from the image for the app in the container to use.<br>The file then copies the source code from the root folder locally into the image in a folder /src which is also then set as the working directory.<br>The file then installs <a href="https://github.com/remy/nodemon" target="_blank" rel="external">nodemon</a> (watches files and restarts the application if there is a change) globally in the image, then installs the dependencies defined in package.json and then moves the node_modules folder.<br>Finally, the file then specifies the default executing command for the container created from the image.</p>
<p>We then create the <a href="https://docs.docker.com/compose/" target="_blank" rel="external">docker-compose.yml</a> which is particularly useful for multi-container Docker applications. We will use it here for linking the local source to a volume which will be mounted on a container, and naming our container and image without using the command line. </p>
<h2 id="The-docker-compose-yml"><a href="#The-docker-compose-yml" class="headerlink" title="The docker-compose.yml"></a>The docker-compose.yml</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">"2"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="attr">  node_express:</span></span><br><span class="line"><span class="attr">    container_name:</span> node-express</span><br><span class="line"><span class="attr">    image:</span> dmkcode/node-express</span><br><span class="line"><span class="attr">    build:</span> </span><br><span class="line"><span class="attr">      context:</span> .</span><br><span class="line"><span class="attr">    command:</span> nodemon --debug=<span class="number">5858</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line"><span class="bullet">      -</span> .:/src</span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"8000:3000"</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"5858:5858"</span></span><br></pre></td></tr></table></figure>
<p>The file defines a service called node_express from the image built from the Dockerfile in the current directory.<br>The file, for develpment overrides the command specified in the Dockerfile which enables remote debugging provided by node. However, the image on its own will not have this enabled which is suitable for production. For more about live debugging, check out the <a href="https://blog.docker.com/2016/07/live-debugging-docker/" target="_blank" rel="external">blog</a> by <a href="https://blog.docker.com/author/aanand/" target="_blank" rel="external">Aanand Prasad</a>.<br>The file then mounts the current directory as a volume /src overwriting anything in it. This means the image will not have to be rebuilt every time there is a change to the source code.<br>The file then maps port 3000 in the container to port 8000 externally i.e. machine localhost and port 5858 in the container to port 5858 externally i.e. machine localhost for connecting to the remote debugger.</p>
<h2 id="Run-It"><a href="#Run-It" class="headerlink" title="Run It"></a>Run It</h2><p>Check out the app by running: </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose build</span><br><span class="line">$ docker-compose up</span><br></pre></td></tr></table></figure>
<p>Go to <a href="http://localhost:8000" target="_blank" rel="external">http://localhost:8000</a> to see the app!</p>
<img src="/2016/10/dockerize-dev-environment/node_express.png" alt="100% node app" title="100% node app">
<p><br><br>If you were to make changes to the source code, the app in the container will be automatically restarted by nodemon meaning no need to rebuild the image. </p>
<p>The complete source code can be found on my <a href="https://github.com/DMKCode/dockerize_dev_env" target="_blank" rel="external">Github</a>. </p>
<p>Thanks for reading!</p>

        </div>
     -->

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2016/09/simple-timer-using-angular-2-and-rxjs-part-2/">
                Simple Timer using Angular 2 and RxJS - part 2
            </a>
        </h1>
        <div class="post-info">
            <span class="date">15-09-2016</span>
            <!--
                <a href="https://dmkcode.com/2016/09/simple-timer-using-angular-2-and-rxjs-part-2/#disqus_thread" class="comments article-comment-link">Comments</a> -->
            
            <!--
                <span class="category">
                    <a href="/categories/Angular2/">Angular2</a>
                </span>
             -->
        </div>
    </div>

    <!-- 
        <div class="content">
            <blockquote><p>This is Part 2 for creating a ‘Simple Timer using Angular 2 &amp; RxJS’.<br><br><br>DISCLAIMER: My solution may not everybody’s cup of tea. If you have a better and more efficient solution, give me shout in the comments, I’m always looking to learn.</p>
</blockquote>
<p>In this post, I’m going to extend the simple timer we created in <a href="https://dmkcode.com/2016/08/simple-timer-using-angular-2-and-rxjs/">part 1</a> by adding another component which will start, pause and stop the timer.</p>
<p>We will start by grabbing the source from the previous part on my <a href="https://github.com/DMKCode/timer_angular2_rxjs" target="_blank" rel="external">Github</a>.<br>We will pick it up from there.</p>
<h2 id="The-Service"><a href="#The-Service" class="headerlink" title="The Service"></a>The Service</h2><p>The service is introduced to facilitate communication between the components. There are many ways to do this as describe in the <a href="https://angular.io/docs/ts/latest/cookbook/component-communication.html" target="_blank" rel="external">Angular Docs</a> and here, the service way was chosen for communication.</p>
<p>The following code makes up our timer service.</p>
<script src="//gist.github.com/5e0f3371981735e40da6accf918defb7.js?file=timer.service.ts"></script>
<p>We start off by importing Injectable and EventEmitter from @angular/core. We use Injectable to annotate our class to make it injectable into our buttons component which will be shown shortly. We use EventEmitter to emit custom events.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Injectable, EventEmitter &#125; from <span class="string">'@angular/core'</span>;</span><br><span class="line"></span><br><span class="line">@Injectable()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TimerService &#123;</span><br><span class="line">    .....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the class we create the variables to store booleans for indicating the current state of the timer when a particular button is pressed i.e. play, pause, stop. We also create the playPauseStop$ variable as the EventEmitter which will emit the custom event. </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> play: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">private</span> pause: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">private</span> stop: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">public</span> playPauseStop$ = <span class="keyword">new</span> EventEmitter();</span><br></pre></td></tr></table></figure>
<p>Next we have the functions, playTimer(), pauseTimer() and stopTimer(). The functions are quite similar and simple. They simply set the play, pause and stop variables and then emit at object containing the relevant action as key value pair.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> playTimer() &#123;</span><br><span class="line">    <span class="keyword">this</span>.play = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.pause = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.stop = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.playPauseStop$.emit(&#123;</span><br><span class="line">        play: <span class="keyword">this</span>.play</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> pauseTimer() &#123;</span><br><span class="line">    <span class="keyword">this</span>.play = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.pause = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.stop = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.playPauseStop$.emit(&#123;</span><br><span class="line">        pause: <span class="keyword">this</span>.pause</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> stopTimer() &#123;</span><br><span class="line">    <span class="keyword">this</span>.play = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.pause = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.stop = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.playPauseStop$.emit(&#123;</span><br><span class="line">        stop: <span class="keyword">this</span>.stop</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And to make our service available for dependency injection, we import in the app module and add it to the providers array.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.....</span><br><span class="line"><span class="keyword">import</span> &#123; TimerService &#125; from <span class="string">'../services/timer.service'</span>;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    ...,</span><br><span class="line">    providers: [ TimerService ],</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="The-Buttons-Component"><a href="#The-Buttons-Component" class="headerlink" title="The Buttons Component"></a>The Buttons Component</h2><p>The following code makes up our buttons component.</p>
<script src="//gist.github.com/d1364191643e1bf13860485705c49f4b.js?file=buttons.component.ts"></script>
<p>The buttons component is created by following the same procedure as with the timer component in part 1 with a couple of slight deferences though.</p>
<p>We start off by importing Component, OnInit, OnDestroy from @angular/core. We also import our service which as mentioned earlier, we will use for communication with the timer.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, OnInit, OnDestroy &#125; from <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; TimerService &#125; from <span class="string">'../services/timer.service'</span>;</span><br></pre></td></tr></table></figure>
<p>We implement the OnInit and OnDestroy lifecycle hooks.<br>The variable playPauseStopUnsubscribe is declared to store the subcription to the timer service custom EventEmitter and the variable play to store the state of play.<br>We then Inject, the timer service into the class using the constructor and storing it in the variable timerService.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> ButtonsComponent <span class="keyword">implements</span> OnInit, OnDestroy &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> playPauseStopUnsubscribe: <span class="built_in">any</span>;</span><br><span class="line">    <span class="keyword">private</span> play: <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">constructor</span>(private timerService: TimerService) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">.....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the ngOnInit() function, we suscribe the to the timer service EventEmitter - playPauseStop$ and pass a callback to execute everytime an event is emitted. The callback invokes the setPlay() passing in the object from the EventEmitter. In the ngOnDestroy() function, we call the unsubscribe function on the playPauseStopUnsubscribe to unsubscribe from timer service EventEmitter.</p>
<p>The setPlay() function simply checks if the object has play on it and if so, set the play variable in the component.</p>
<p>The playTimer() function is called when the play button is pressed which calls the playTimer method in the service.<br>The pauseTimer() function is called when the pause button is pressed which calls the pauseTimer method in the service.<br>The stopTimer() function is called when the stop button is pressed which calls the stopTimer method in the service.  </p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.playPauseStopUnsubscribe = <span class="keyword">this</span>.timerService.playPauseStop$.subscribe((res: <span class="built_in">any</span>) =&gt; <span class="keyword">this</span>.setPlay(res));       </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ngOnDestroy() &#123;</span><br><span class="line">    <span class="keyword">this</span>.playPauseStopUnsubscribe.unsubscribe();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> setPlay(res: <span class="built_in">any</span>) &#123;</span><br><span class="line">    (res.play) ? <span class="keyword">this</span>.play = <span class="literal">true</span> : <span class="keyword">this</span>.play = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">playTimer() &#123;</span><br><span class="line">    <span class="keyword">this</span>.timerService.playTimer();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pauseTimer() &#123;</span><br><span class="line">    <span class="keyword">this</span>.timerService.pauseTimer();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stopTimer() &#123;</span><br><span class="line">    <span class="keyword">this</span>.timerService.stopTimer();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We then add the buttons tag to ‘app.component.html’<br><figure class="highlight html"><figcaption><span>app.component.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">buttons</span>&gt;</span><span class="tag">&lt;/<span class="name">buttons</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>and import, and add to the declarations array in ‘app.module.ts’</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.....</span><br><span class="line"><span class="keyword">import</span> &#123; ButtonsComponent &#125; from <span class="string">"./buttons.component"</span>;</span><br><span class="line">@NgModule(&#123;</span><br><span class="line">    ...,</span><br><span class="line">    declarations: [</span><br><span class="line">        ...</span><br><span class="line">        TimerComponent,</span><br><span class="line">        ...   </span><br><span class="line">    ]</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Timer-Component-Changes"><a href="#Timer-Component-Changes" class="headerlink" title="Timer Component Changes"></a>Timer Component Changes</h2><p>Finally we make some changes to the timer component to subscribe to use the service to communication.<br>Comments in the code below describe the changes.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="comment">// import the timer service for communication</span></span><br><span class="line"><span class="keyword">import</span> &#123; TimerService &#125; from <span class="string">'../services/timer.service'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">....</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TimerComponent <span class="keyword">implements</span> OnInit, OnDestroy &#123;</span><br><span class="line">    <span class="comment">// variable to subscribe to the timer service EventEmitter</span></span><br><span class="line">    <span class="keyword">private</span> playPauseStopUnsubscribe: <span class="built_in">any</span>;</span><br><span class="line">    ....</span><br><span class="line">    <span class="comment">// start variable to tell the timer when to start</span></span><br><span class="line">    start = <span class="number">0</span>;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// inject the timer service</span></span><br><span class="line">    <span class="keyword">constructor</span>(private timerService: TimerService) &#123;        </span><br><span class="line">    &#125;</span><br><span class="line">    ngOnInit() &#123;</span><br><span class="line">        <span class="comment">// subscribe to the playPauseStop$ EventEmitter in the timer service </span></span><br><span class="line">        <span class="keyword">this</span>.playPauseStopUnsubscribe = <span class="keyword">this</span>.timerService.playPauseStop$.subscribe((res: <span class="built_in">any</span>) =&gt; <span class="keyword">this</span>.playPauseStop(res));</span><br><span class="line">    &#125;</span><br><span class="line">    ngOnDestroy() &#123;</span><br><span class="line">        <span class="comment">// unsubscribe from the EventEmitter when the component is destroyed</span></span><br><span class="line">        <span class="keyword">this</span>.playPauseStopUnsubscribe.unsubscribe();;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> playPauseStop(res: <span class="built_in">any</span>) &#123;</span><br><span class="line">        <span class="comment">// check the object passed by the EventEmitter </span></span><br><span class="line">        <span class="comment">// and call relevant method based on the action</span></span><br><span class="line">        <span class="keyword">if</span>(res.play) &#123;</span><br><span class="line">            <span class="keyword">this</span>.startTimer();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(res.pause) &#123;</span><br><span class="line">            <span class="keyword">this</span>.pauseTimer();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.stop) &#123;</span><br><span class="line">            <span class="keyword">this</span>.stopTimer();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> startTimer() &#123;</span><br><span class="line">        ....</span><br><span class="line">        <span class="keyword">this</span>.sub = timer.subscribe(</span><br><span class="line">            t =&gt; &#123;</span><br><span class="line">                <span class="comment">// use the start variable to begin timer</span></span><br><span class="line">                <span class="keyword">this</span>.ticks = <span class="keyword">this</span>.start + t;</span><br><span class="line">                ....</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set the start variable and unsubscribe from the timer observable</span></span><br><span class="line">    <span class="comment">// will be used to start timer</span></span><br><span class="line">    <span class="keyword">private</span> pauseTimer() &#123;</span><br><span class="line">        <span class="keyword">this</span>.start = ++<span class="keyword">this</span>.ticks;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.sub) <span class="keyword">this</span>.sub.unsubscribe();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//re-set all variables and unsubscribe from the timer observable</span></span><br><span class="line">    <span class="keyword">private</span> stopTimer() &#123;</span><br><span class="line">        <span class="keyword">this</span>.start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.ticks = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.minutesDisplay = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.hoursDisplay = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.secondsDisplay = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.sub) <span class="keyword">this</span>.sub.unsubscribe();</span><br><span class="line">    &#125;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Run-It"><a href="#Run-It" class="headerlink" title="Run It"></a>Run It</h2><p>To check out the new timer in action, just run the command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br><span class="line">$ npm run start</span><br></pre></td></tr></table></figure>
<p>Go to <a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a> or <a href="http://localhost:8080/webpack-dev-server/" target="_blank" rel="external">http://localhost:8080/webpack-dev-server/</a> to see the timer!</p>
<img src="/2016/09/simple-timer-using-angular-2-and-rxjs-part-2/Simple_TImer_Part2.png" alt="100% simple timer" title="100% simple timer">
<p><br><br>The complete source code can be found on my <a href="https://github.com/DMKCode/timer_angular2_rxjs-2" target="_blank" rel="external">Github</a>. </p>
<p>Thanks for reading!</p>

        </div>
     -->

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2016/08/simple-timer-using-angular-2-and-rxjs/">
                Simple Timer using Angular 2 and RxJS - part 1
            </a>
        </h1>
        <div class="post-info">
            <span class="date">15-08-2016</span>
            <!--
                <a href="https://dmkcode.com/2016/08/simple-timer-using-angular-2-and-rxjs/#disqus_thread" class="comments article-comment-link">Comments</a> -->
            
            <!--
                <span class="category">
                    <a href="/categories/Angular2/">Angular2</a>
                </span>
             -->
        </div>
    </div>

    <!-- 
        <div class="content">
            <blockquote><p>This is Part 1 for creating a ‘Simple Timer using Angular 2 &amp; RxJS’.<br><br><br>DISCLAIMER: My solution may not everybody’s cup of tea. If you have a better and more efficient solution, give me shout in the comments, I’m always looking to learn.</p>
</blockquote>
<p>There are many ways to create a timer (counting up) using javascript and in this post, I would like to show you how to implement one as a component using the Angular2 framework and RxJS library. To find out more about Angular2, visit the official documentation <a href="https://angular.io/" target="_blank" rel="external">here</a> and for more RxJS, visit the official documentation <a href="http://reactivex.io/rxjs/" target="_blank" rel="external">here</a>.</p>
<p>The begin with, we will look at the structure of the project and then walk through the steps for how to create the component. Lets begin!</p>
<h2 id="Project-Structure"><a href="#Project-Structure" class="headerlink" title="Project Structure"></a>Project Structure</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── node_modules/</span><br><span class="line">├── package.json</span><br><span class="line">├── src</span><br><span class="line">│   └── app</span><br><span class="line">│       ├── assets/</span><br><span class="line">│       ├── index.html</span><br><span class="line">│       └── scripts</span><br><span class="line">│           ├── bootstrap.ts</span><br><span class="line">│           ├── components/</span><br><span class="line">|           |   ├── app.component.ts</span><br><span class="line">|           |   ├── app.component.html</span><br><span class="line">|           |   └── app.module.ts</span><br><span class="line">│           └── vendor.ts</span><br><span class="line">├── tsconfig.json</span><br><span class="line">├── typings/</span><br><span class="line">├── typings.json</span><br><span class="line">└── webpack</span><br><span class="line">    └── webpack.dev.js</span><br></pre></td></tr></table></figure>
<p>The structure is organised to be as simple as possible. You can find the skeleton for this project structure on my <a href="https://github.com/DMKCode/dmkcode_angular2_webpack_skeleton" target="_blank" rel="external">Github</a>.</p>
<h3 id="Project-Root"><a href="#Project-Root" class="headerlink" title="Project Root"></a>Project Root</h3><p>The project root contains the following files.</p>
<ul>
<li>package.json: contains the list of dependencies and scripts we could run from the command line.</li>
<li>tsconfig.json: contains TypeScript configuration.</li>
<li>typings.json: conatins the TypeScript definition files.</li>
<li>node_modules: directory where the dependencies will reside.</li>
<li>src: directory where the application logic resides. Detailed description is provided below.</li>
<li>webpack: directory where webpack configuration will reside. <a href="https://webpack.github.io/" target="_blank" rel="external">Webpack</a> is the module bundler we will use for this project.</li>
<li>typings: directory where the TypeScript definition files will reside.</li>
</ul>
<h3 id="src-app"><a href="#src-app" class="headerlink" title="src/app"></a>src/app</h3><p>Here is a description of whats contained in the ‘src/app’ directory</p>
<ul>
<li>vendor.ts: contains imports for all vendor specific imports.</li>
<li>bootstrap.ts: used to launch the application by bootstrapping the app module.</li>
<li>index.html: the main html file.</li>
<li>scripts/components/app.component.ts: the app root component.</li>
<li>scripts/components/app.component.html: the template for app root component.</li>
<li>scripts/components/app.module.ts: the app module. Angular provides ‘NgModule’ to help organize an application into cohesive blocks of functionality. Read more <a href="https://angular.io/docs/ts/latest/guide/ngmodule.html" target="_blank" rel="external">here</a>. </li>
</ul>
<h2 id="The-Timer"><a href="#The-Timer" class="headerlink" title="The Timer"></a>The Timer</h2><p>Ok now lets write some code! </p>
<p>Let’s begin by creating an empty file named ‘timer.component.ts’ in ‘src/app/components/‘ directory. This will contain the application logic for the timer.</p>
<p>The following code makes up our timer component.</p>
<script src="//gist.github.com/4ef717db4f7a85c984be93d156226d3c.js?file=timer.component.ts"></script>
<h4 id="whats-going-on"><a href="#whats-going-on" class="headerlink" title="whats going on?"></a>whats going on?</h4><p>At the top we first import ‘Component’ and ‘OnInit’ from ‘angular/core’ and, ‘Observable’ and ‘Subscription’ from ‘rxjs/Rx’.<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; from <span class="string">'@angular/core'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Observable, Subscription &#125; from <span class="string">'rxjs/Rx'</span>;</span><br></pre></td></tr></table></figure></p>
<blockquote><p>The Component decorator allows you to mark a class as an Angular component and provide additional metadata that determines how the component should be processed, instantiated and used at runtime. – <a href="https://angular.io/docs/ts/latest/api/core/index/Component-decorator.html" target="_blank" rel="external">Angular Doc</a><br><br><br>The <a href="https://angular.io/docs/ts/latest/api/core/index/OnInit-class.html" target="_blank" rel="external">OnInit</a> lifecycle hook provides and ngOnInit() function which is called after all data-bound properties of the component are initialised.<br><br><br>Observable and Subscription are part of the Reactive Extensions for JavaScript (RxJS) which is a reactive streams library which enables us to deal with asynchronous data streams.</p>
</blockquote> 
<p>When then provide component metadata.<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Component(&#123;</span><br><span class="line">    selector: <span class="string">'timer'</span>,</span><br><span class="line">    template: <span class="string">` </span><br><span class="line">        &lt;h1&gt;</span><br><span class="line">            &#123;&#123;hoursDisplay ? hoursDisplay : '00'&#125;&#125; : &#123;&#123;(minutesDisplay) &amp;&amp; (minutesDisplay &lt;= 59) ? minutesDisplay : '00'&#125;&#125; : &#123;&#123;(secondsDisplay) &amp;&amp; (secondsDisplay &lt;= 59) ? secondsDisplay : '00'&#125;&#125; &lt;br/&gt;</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">    `</span>,</span><br><span class="line">    styles: [ <span class="string">`</span><br><span class="line">        h1 &#123;</span><br><span class="line">            color: #57acec;</span><br><span class="line">            margin-top: 24px; </span><br><span class="line">            text-align: center;   </span><br><span class="line">        &#125;    </span><br><span class="line">    `</span>]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>This essentially means the component will be placed in the html tag with the name ‘timer’.<br>We provide the template as a string, displaying the hours, minutes and seconds. We could also provide this template as a separate file as we did with the app component.<br>And finally, we provide some styles to make the display look a little pretty.</p>
<p>Next up is the actual timer logic.<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> TimerComponent <span class="keyword">implements</span> OnInit &#123;</span><br></pre></td></tr></table></figure></p>
<p>We make sure our component implements the OnInit lifecycle hook.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ticks = <span class="number">0</span>;  </span><br><span class="line">minutesDisplay: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">hoursDisplay: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">secondsDisplay: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">sub: Subscription;</span><br><span class="line"><span class="string">``</span><span class="string">` </span><br><span class="line">We then declare our variables to store the values   </span><br><span class="line"></span><br><span class="line">`</span><span class="string">``</span> typeScript</span><br><span class="line">ngOnInit() &#123;</span><br><span class="line">    <span class="keyword">this</span>.startTimer();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We create the function ngOnInit() which will be called when the component is initialised.<br>In this function, we call the startTimer() function explained below.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> startTimer() &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = Observable.timer(<span class="number">1</span>, <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">this</span>.sub = timer.subscribe(</span><br><span class="line">        t =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.ticks = t;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">this</span>.secondsDisplay = <span class="keyword">this</span>.getSeconds(<span class="keyword">this</span>.ticks);</span><br><span class="line">            <span class="keyword">this</span>.minutesDisplay = <span class="keyword">this</span>.getMinutes(<span class="keyword">this</span>.ticks);</span><br><span class="line">            <span class="keyword">this</span>.hoursDisplay = <span class="keyword">this</span>.getHours(<span class="keyword">this</span>.ticks);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In the startTimer() function, we create an observable sequence that produces a value after due time has elapsed and then each period. <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/timer.md" target="_blank" rel="external">Rx.Observable.timer(dueTime, [period], [scheduler])</a><br>We then subscribe to the observable and every time a value is produced, i.e. ‘t’, we store in the variable ‘ticks’. We then get the seconds, minutes and hours (functions explained below) and store them in the respective variables.</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> getSeconds(ticks: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.pad(ticks % <span class="number">60</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> getMinutes(ticks: <span class="built_in">number</span>) &#123;</span><br><span class="line">    eturn <span class="keyword">this</span>.pad((<span class="built_in">Math</span>.floor(ticks / <span class="number">60</span>)) % <span class="number">60</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> getHours(ticks: <span class="built_in">number</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.pad(<span class="built_in">Math</span>.floor((ticks / <span class="number">60</span>) / <span class="number">60</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> pad(digit: <span class="built_in">any</span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> digit &lt;= <span class="number">9</span> ? <span class="string">'0'</span> + digit : digit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The getSeconds() function simply gets the remainder of the value, i.e. the ticks from the observable, divided by 60. This way the seconds displayed will never exceed 60 as expected. We then append a ‘0’ at the beginning if the value is below 10 by passing the result to the pad function.</p>
<p>The getMinutes() function first divides the value, i.e. the ticks from the observable, by 60 and the gets the remainder of result divided by 60. This way the minutes displayed will never exceed 60 as expected. We then append a ‘0’ at the beginning if the value is below 10 by passing the result to the pad function.</p>
<p>The getHours() function simply divides the value, i.e. the ticks from the observable, divided by 60 twice. We then append a ‘0’ at the beginning if the value is below 10 by passing the result to the pad function.</p>
<p>AND finally, don’t forgot add the timer to ‘app.component.html’<br><figure class="highlight html"><figcaption><span>app.component.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">timer</span>&gt;</span><span class="tag">&lt;/<span class="name">timer</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Run-It"><a href="#Run-It" class="headerlink" title="Run It"></a>Run It</h2><p>To check out the timer in action, just run the command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install</span><br><span class="line">$ npm run start</span><br></pre></td></tr></table></figure>
<p>Go to <a href="http://localhost:8080" target="_blank" rel="external">http://localhost:8080</a> or <a href="http://localhost:8080/webpack-dev-server/" target="_blank" rel="external">http://localhost:8080/webpack-dev-server/</a> to see the timer!</p>
<img src="/2016/08/simple-timer-using-angular-2-and-rxjs/Simple_TImer_Part1.png" alt="100% simple timer" title="100% simple timer">
<p><br><br>The complete source code can be found on my <a href="https://github.com/DMKCode/timer_angular2_rxjs" target="_blank" rel="external">Github</a>.</p>
<p>In the next part, I will add another component which will start, pause and stop the timer. </p>
<p>Thanks for reading!</p>

        </div>
     -->

</div>
            
        </section>
    </div>
</div>






</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    DMKCode is David Kananda. David Kananda is DMKCode.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2016/10/dockerize-dev-environment/">Dockerizing My Dev Enviro...</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/09/simple-timer-using-angular-2-and-rxjs-part-2/">Simple Timer using Angula...</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2016/08/simple-timer-using-angular-2-and-rxjs/">Simple Timer using Angula...</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/Docker/">Docker</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Docker/Node-js/">Node.js</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Docker/Node-js/Express/">Express</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Angular2/">Angular2</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/DMKCode">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/DMKCode">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @DMKCode. All right reserved | Powered by Hexo (Alpha Dust).
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'DMKCode';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>